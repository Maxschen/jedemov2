!function(){function a(){H.style.display="block"}function b(){H.style.display="none"}function c(a){var b=a.dataTransfer;a.dataTransfer.dropEffect=b.types&&(b.types.indexOf?b.types.indexOf("Files")!=-1:b.types.contains("Files"))?"copy":"none",a.preventDefault()}function d(a){a.preventDefault(),b();var c=a.dataTransfer.files[0];if("application/json"!=c.type||0===c.size)return o.innerText="Error: File uploaded is not a .JSON file",void J();var d=new FileReader;d.onload=function(a){var b=a.target.result,c=I(b);c?(o.innerText=c,J()):(g.setValue(b),g.session.getSelection().clearSelection())},d.readAsText(c)}function e(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}var f,g,h,i={theme:{bootstrap2:{css:"https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css"},bootstrap3:{css:"https://cdn.jsdelivr.net/npm/bootstrap@3.4.0/dist/css/bootstrap.min.css",js:"https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/js/bootstrap.min.js"},bootstrap4:{css:"https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/css/bootstrap.min.css"},foundation3:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundation/3.2.5/stylesheets/foundation.css"},foundation4:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundation/4.3.2/css/foundation.min.css"},foundation5:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css"},foundation6:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundation/6.5.2/foundation.min.css",js:"https://cdnjs.cloudflare.com/ajax/libs/foundation/6.5.2/js/foundation.min.js"},jqueryui:{css:"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/south-street/jquery-ui.min.css"},materialize:{css:"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css",js:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"]}},iconlib:{foundation2:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundicons/2.0/stylesheets/general_foundicons.min.css"},foundation3:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.min.css"},fontawesome3:{css:"https://cdn.jsdelivr.net/npm/font-awesome@3.2.1/css/font-awesome.min.css"},fontawesome4:{css:"https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"},fontawesome5:{css:"https://use.fontawesome.com/releases/v5.6.3/css/all.css"},materialicons:{css:"https://fonts.googleapis.com/icon?family=Material+Icons"}},template:{ejs:{js:"https://cdn.jsdelivr.net/npm/ejs@2.6.1/lib/ejs.min.js"},handlebars:{js:"https://cdn.jsdelivr.net/npm/handlebars@4.0.12/lib/index.min.js"},hogan:{js:"https://cdn.jsdelivr.net/npm/hogan-updated@3.1.0/hogan.min.js"},markup:{js:"https://cdn.jsdelivr.net/npm/markup-js@1.5.21/src/markup.min.js"},mustache:{js:"https://cdn.jsdelivr.net/npm/mustache@3.0.1/mustache.min.js"},swig:{js:"https://cdnjs.cloudflare.com/ajax/libs/swig/1.4.1/swig.min.js"},underscore:{js:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"}},ext_lib:{lib_aceeditor:{js:"https://cdn.jsdelivr.net/npm/ace-editor-builds@1.2.4/src-min-noconflict/ace.js"},lib_cleavejs:{js:"https://cdn.jsdelivr.net/npm/cleave.js@1.4.7/dist/cleave.min.js"},lib_sceditor:{css:"https://cdn.jsdelivr.net/npm/sceditor@2.1.3/minified/themes/default.min.css",js:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/sceditor@2.1.3/minified/sceditor.min.js","https://cdn.jsdelivr.net/npm/sceditor@2.1.3/minified/formats/bbcode.js","https://cdn.jsdelivr.net/npm/sceditor@2.1.3/minified/formats/xhtml.js"]},lib_simplemde:{css:"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css",js:"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"},lib_select2:{css:"https://cdn.jsdelivr.net/npm/select2@4.0.6-rc.1/dist/css/select2.min.css",js:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/select2@4.0.6-rc.1/dist/js/select2.min.js"]},lib_selectize:{css:["https://cdn.jsdelivr.net/npm/selectize@0.12.6/dist/css/selectize.min.css","https://cdn.jsdelivr.net/npm/selectize@0.12.6/dist/css/selectize.default.min.css"],js:"https://cdn.jsdelivr.net/npm/selectize@0.12.6/dist/js/standalone/selectize.min.js"},lib_flatpickr:{css:"https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css",js:"https://cdn.jsdelivr.net/npm/flatpickr"},lib_signaturepad:{js:"https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"},lib_mathjs:{js:"https://cdn.jsdelivr.net/npm/mathjs@5.3.1/dist/math.min.js"}}},j="ace/theme/github",k=document.querySelector("#schema"),l=document.querySelector("#startval"),m=document.querySelector("#editor"),n=document.querySelector(".modal"),o=n.querySelector("p"),p=n.querySelector(".close-button"),q=document.querySelector("iframe"),r=q.contentWindow||q.contentDocument.document||q.contentDocument,s=document.querySelector("#theme"),t=document.querySelector("#iconlib"),u=document.querySelector("#object_layout"),v=document.querySelector("#show_errors"),w=document.querySelector("#template"),x=document.querySelector("#boolean_options"),y=document.querySelector("#ext_lib"),z=document.querySelector("#external-schema"),A=document.querySelector("#restore-code"),B=document.querySelector("#restore-schema"),C=document.querySelector("#restore-startval"),D=document.querySelector("#execute-code"),E=document.querySelector("#direct_link"),F=document.querySelector("#direct_link_reset"),G=document.querySelector("nav.tabs"),H=document.querySelector("#dropzone"),I=function(a){try{JSON.parse(a)}catch(b){return"Invalid Schema: "+b.message.charAt(12).toUpperCase()+b.message.slice(13)}return!1},J=function(){n.classList.toggle("show-modal")},K=function(a){a.target===n&&J()},L=function(){var a=I(this.getValue());a&&(o.innerText=a,J())},M=function(a){if(a.target&&"BUTTON"==a.target.nodeName){for(var b=this.querySelectorAll("button"),c=0;c<b.length;c++)b[c].classList.remove("active"),document.querySelector(b[c].dataset.content).classList.remove("active");a.target.classList.add("active"),document.querySelector(a.target.dataset.content).classList.add("active")}};window.iframeErrorCatcher=function(a){o.innerText=a.message,J()};var N=function(a){var b=window.location.search.substr(1),c={};if(null!=b&&""!==b)for(var d=b.split("&"),e=0;e<d.length;e++){var f=d[e].split("=");if("undefined"!=typeof a&&a==f[0]){c=f[1];break}c[f[0]]=f[1]}return c},O=function(){var a={},b=document.querySelector("#json-editor-confg"),c=":not([data-json-editor-special])",d=b.querySelectorAll('input[type="checkbox"]'+c+",select"+c);return Array.from(d).forEach(function(b){"SELECT"==b.tagName?a[b.id]=b.value:b.checked&&(a[b.value]=1)}),a},P=function(a){var b=window.location.toString().replace(window.location.search,"");a.target==E&&(b+="?schema="+window.LZString.compressToBase64(JSON.stringify(g.getValue())),b+="&value="+window.LZString.compressToBase64(JSON.stringify(h.getValue())),b+="&code="+window.LZString.compressToBase64(JSON.stringify(f.getValue())),b+="&"+e(O())),window.location.replace(b)},Q=function(){confirm("Clear URL query parameters?")&&P(!0)},R=function(){var a=N();a.code&&(f.setValue(JSON.parse(window.LZString.decompressFromBase64(a.code))),f.session.getSelection().clearSelection(),delete a.code),a.schema&&(g.setValue(JSON.parse(window.LZString.decompressFromBase64(a.schema))),g.session.getSelection().clearSelection(),delete a.schema),a.value&&(h.setValue(JSON.parse(window.LZString.decompressFromBase64(a.value))),h.session.getSelection().clearSelection(),delete a.value);for(var b in a)if(a.hasOwnProperty(b)){var c=document.querySelector("#"+b);c&&("SELECT"==c.tagName?c.value=a[b]:"INPUT"==c.tagName&&(c.checked=!0))}},S=function(a,b){return'if (jsoneditor) jsoneditor.destroy();jsoneditor = new window.JSONEditor(document.querySelector("#json-editor-form"),{schema: '+a+", startval: "+b+"});"},T=function(a){var b={};return a.filter(function(a){return!b.hasOwnProperty(a)&&(b[a]=!0)})},U=function(a){var b,c=[],d=[],e="";for(var f in a)a.hasOwnProperty(f)&&(i.ext_lib[f]||i[f]&&i[f][a[f]])&&(b=i.ext_lib[f]||i[f][a[f]],b.js&&(c=c.concat("string"==typeof b.js?[b.js]:b.js)),b.css&&(d=d.concat("string"==typeof b.css?[b.css]:b.css)));return d&&(e+='<link rel="stylesheet" href="'+T(d).join('" /></link><link rel="stylesheet" href="')+'" /></link>'),c&&(e+='<script src="'+T(c).join('" /></script><script src="')+'" /></script>'),e},V=function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)&&!/^lib_/.test(c)){var d="string"==typeof a[c]?'"'+a[c]+'"':a[c];b+='JSONEditor.defaults.options["'+c+'"] = '+d+";\n"}return"<script>"+b+"</script>"},W=function(a){var b=O();return'<!DOCTYPE HTML><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><style>body {margin:0;padding:0;font: normal 1em/1 Arial;background-color:#f8f8f8 !important;}.inner-row {background-color: #fff;position: relative;max-width: 1200px;left:50%;transform: translate(-50%,0);padding: 1rem 2rem;box-shadow: 2px 0 5px rgba(0,0,0,.2);}</style><script src="https://cdn.jsdelivr.net/npm/@json-editor/json-editor@latest/dist/jsoneditor.min.js"></script>'+U(b)+V(b)+'</head><body><div class="inner-row"><div id="json-editor-form"></div></div><script>var jsoneditor;try{'+a+"}catch(err){window.top.iframeErrorCatcher(err);};</script></body></html>"},X=function(a,b,c){var d=new XMLHttpRequest;d.overrideMimeType(b),d.open("GET",a,!0),d.onreadystatechange=function(){4==d.readyState&&"200"==d.status&&c(d.responseText)},d.send(null)},Y=function(){var a=this.options[this.selectedIndex].value;a&&(X("/examples/schema/"+a+".json","application/json",function(a){g.setValue(a),g.session.getSelection().clearSelection()}),X("/examples/startval/"+a+".json","application/json",function(a){h.setValue(a),h.session.getSelection().clearSelection()}),X("/examples/javascript/"+a+".js","application/javascript",function(a){f.setValue(a),f.session.getSelection().clearSelection()}))},Z=function(){var a=this.id,b=this.value;console.log('String option "'+a+'" changed to "'+b+'"')},$=function(a){"checkbox"==a.target.type&&console.log('Boolean option "'+a.target.value+'" changed to "'+a.target.checked.toString()+'"')},_=function(a,b){if(a.fireEvent)a.fireEvent("on"+b);else{var c=document.createEvent("Events");c.initEvent(b,!0,!1),a.dispatchEvent(c)}},aa=function(a,b){a.addEventListener("click",function(a,b){b.preventDefault(),this.setValue(a),this.session.getSelection().clearSelection()}.bind(b,b.getValue()))},ba=function(a){a.preventDefault();var b=S(g.getValue(),h.getValue())+f.getValue();r.document.open(),r.document.write(W(b)),r.document.close(),_(document.querySelector("nav.tabs button"),"click")};r.addEventListener("load",function(){console.log("jeIframe.window.JSONEditor.defaults",r.window.JSONEditor.defaults)}),p.addEventListener("click",J),window.addEventListener("click",K),g=window.ace.edit(k),g.setOptions({theme:j}),g.session.setOptions({mode:"ace/mode/json",tabSize:2,useSoftTabs:!0}),h=window.ace.edit(l),h.setOptions({theme:j}),h.session.setOptions({mode:"ace/mode/json",tabSize:2,useSoftTabs:!0}),f=window.ace.edit(m),f.setOptions({theme:j}),f.session.setOptions({mode:"ace/mode/javascript",tabSize:2,wrap:!0,useSoftTabs:!0,useWrapMode:!0,indentedSoftWrap:!0}),g.on("blur",L.bind(g)),h.on("blur",L.bind(h)),aa(A,f),aa(B,g),aa(C,h),G.addEventListener("click",M),"file:"!=window.location.protocol?z.addEventListener("change",Y):(z.disabled=!0,z.title="Not available locally due to CORS policy"),D.addEventListener("click",ba),E.addEventListener("click",P),F.addEventListener("click",Q),s.addEventListener("change",Z),t.addEventListener("change",Z),u.addEventListener("change",Z),v.addEventListener("change",Z),w.addEventListener("change",Z),x.addEventListener("click",$),y.addEventListener("click",$),window.File&&window.FileReader&&window.FileList&&window.Blob&&(window.addEventListener("dragenter",a),r.addEventListener("dragenter",a),H.addEventListener("dragenter",c),H.addEventListener("dragover",c),H.addEventListener("dragleave",b),H.addEventListener("drop",d)),R();var ca=S(g.getValue(),h.getValue())+f.getValue();r.document.open(),r.document.write(W(ca)),r.document.close()}();
//# sourceMappingURL=jsoneditor_demo.min.js.map