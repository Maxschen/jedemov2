!function(){function a(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}var b,c,d,e="ace/theme/github",f=document.querySelector("#schema"),g=document.querySelector("#startval"),h=document.querySelector("#editor"),i=document.querySelector(".modal"),j=i.querySelector("p"),k=i.querySelector(".close-button"),l=document.querySelector("#iframe-container iframe"),m=l.contentWindow||l.contentDocument.document||l.contentDocument,n=document.querySelector("#theme"),o=document.querySelector("#iconlib"),p=document.querySelector("#object_layout"),q=document.querySelector("#show_errors"),r=document.querySelector("#template"),s=document.querySelector("#boolean_options"),t=document.querySelector("#ext_lib"),u=document.querySelector("#external-schema"),v=document.querySelector("#restore-code"),w=document.querySelector("#restore-schema"),x=document.querySelector("#restore-startval"),y=document.querySelector("#execute-code"),z=document.querySelector("#direct_link"),A=document.querySelector("#direct_link_reset"),B=function(a){try{JSON.parse(a)}catch(b){return"Invalid Schema: "+b.message.charAt(12).toUpperCase()+b.message.slice(13)}return!1},C=function(){var a=window.location.search.substr(1),b={};if(null!=a&&""!==a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");b[e[0]]=e[1]}return b},D=function(){var a={},b=document.querySelector("#json-editor-confg"),c=":not([data-json-editor-special])",d=b.querySelectorAll('input[type="checkbox"]'+c+",select"+c);return Array.from(d).forEach(function(b){"INPUT"==b.tagName&&b.checked?a[b.value]=1:"SELECT"==b.tagName&&""!==b.value&&(a[b.id]=b.value)}),a},E=function(e){var f=window.location.toString().replace(window.location.search,"");e.target==z&&(f+="?schema="+window.LZString.compressToBase64(JSON.stringify(c.getValue())),f+="&value="+window.LZString.compressToBase64(JSON.stringify(d.getValue())),f+="&code="+window.LZString.compressToBase64(JSON.stringify(b.getValue())),f+="&"+a(D())),window.location.replace(f)},F=function(){var a=C();a.code&&(b.setValue(JSON.parse(window.LZString.decompressFromBase64(a.code))),b.session.getSelection().clearSelection(),delete a.code),a.schema&&(c.setValue(JSON.parse(window.LZString.decompressFromBase64(a.schema))),c.session.getSelection().clearSelection(),delete a.schema),a.value&&(d.setValue(JSON.parse(window.LZString.decompressFromBase64(a.value))),d.session.getSelection().clearSelection(),delete a.value);for(var e in a)if(a.hasOwnProperty(e)){var f=document.querySelector("#"+e);f&&("SELECT"==f.tagName?f.value=a[e]:"INPUT"==f.tagName&&(f.checked=!0))}},G=function(a,b){var c=new XMLHttpRequest;c.overrideMimeType("application/json"),c.open("GET",a,!0),c.onreadystatechange=function(){4==c.readyState&&"200"==c.status&&b(c.responseText)},c.send(null)},H=function(a){},I=function(a,b){return'if (jsoneditor) jsoneditor.destroy();jsoneditor = new window.JSONEditor(document.querySelector("#json-editor-form"),{schema: '+a+", startval: "+b+"});"},J=function(a){return'<!DOCTYPE HTML><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><script src="https://cdn.jsdelivr.net/npm/@json-editor/json-editor@latest/dist/jsoneditor.min.js"></script></head><body><div id="json-editor-form"></div><script>var jsoneditor;try{'+a+';for (var i=0;i<399;i++) {document.write(i+"<br>");};}catch(err){window.top.iframeErrorCatcher(err);};</script></body></html>'},K=function(a){confirm("Clear URL query parameters?")&&E(!0)},L=function(){i.classList.toggle("show-modal")},M=function(a){a.target===i&&L()},N=function(){var a=B(this.getValue());a&&(j.innerText=a,L())};window.iframeErrorCatcher=function(a){j.innerText=a.message,L()};var O=function(a,b){b&&(a='"use strict";'+a);try{new Function(a)()}catch(c){return j.innerText=c.message,L(),!1}return!0},P=function(){var a=this.options[this.selectedIndex].value;a&&G(a,function(a){c.setValue(a),c.session.getSelection().clearSelection()})},Q=function(a){var b=this.id,c=this.value;switch(b){case"theme":break;case"iconlib":break;default:window.JSONEditor.defaults.options[b]=c,H(!0)}console.log('String option "'+b+'" changed to "'+c+'"')},R=function(a){"checkbox"==a.target.type&&console.log('Boolean option "'+a.target.value+'" changed to "'+a.target.checked.toString()+'"')},S=function(a,b){a.addEventListener("click",function(a,b){b.preventDefault(),this.setValue(a),this.session.getSelection().clearSelection()}.bind(b,b.getValue()))},T=function(a){a.preventDefault();var e=I(c.getValue(),d.getValue())+b.getValue();O(e)&&(document.querySelector("#tab1").checked=!0)};k.addEventListener("click",L),window.addEventListener("click",M),c=window.ace.edit(f),c.setOptions({theme:e}),c.session.setOptions({mode:"ace/mode/json",tabSize:2,useSoftTabs:!0}),d=window.ace.edit(g),d.setOptions({theme:e}),d.session.setOptions({mode:"ace/mode/json",tabSize:2,useSoftTabs:!0}),b=window.ace.edit(h),b.setOptions({theme:e}),b.session.setOptions({mode:"ace/mode/javascript",tabSize:2,wrap:!0,useSoftTabs:!0,useWrapMode:!0,indentedSoftWrap:!0}),c.on("blur",N.bind(c)),d.on("blur",N.bind(d)),S(v,b),S(w,c),S(x,d),u.addEventListener("change",P),y.addEventListener("click",T),z.addEventListener("click",E),A.addEventListener("click",K),n.addEventListener("change",Q),o.addEventListener("change",Q),p.addEventListener("change",Q),q.addEventListener("change",Q),r.addEventListener("change",Q),s.addEventListener("click",R),t.addEventListener("click",R),F();var U=I(c.getValue(),d.getValue())+b.getValue();m.document.write(J(U))}();
//# sourceMappingURL=jsoneditor_demo.min.js.map