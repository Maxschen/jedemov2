!function(){function a(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}var b,c,d,e="ace/theme/github",f=document.querySelector("#schema"),g=document.querySelector("#startval"),h=document.querySelector("#editor"),i=document.querySelector(".modal"),j=i.querySelector("p"),k=i.querySelector(".close-button"),l=document.querySelector("#theme"),m=document.querySelector("#iconlib"),n=document.querySelector("#object_layout"),o=document.querySelector("#show_errors"),p=document.querySelector("#template"),q=document.querySelector("#boolean_options"),r=document.querySelector("#ext_lib"),s=document.querySelector("#external-schema"),t=document.querySelector("#restore-code"),u=document.querySelector("#restore-schema"),v=document.querySelector("#execute-code"),w=document.querySelector("#direct_link"),x=function(a){try{JSON.parse(a)}catch(b){return"Invalid Schema: "+b.message.charAt(12).toUpperCase()+b.message.slice(13)}return!1},y=function(){var a=window.location.search.substr(1),b={};if(null!=a&&""!==a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");b[e[0]]=e[1]}return b},z=function(){var a={},b=document.querySelector("#json-editor-confg"),c=":not([data-json-editor-special])",d=b.querySelectorAll('input[type="checkbox"]'+c+",select"+c);return Array.from(d).forEach(function(b){"checkbox"==b.type&&b.checked?a[b.value]=b.checked:""!==b.value&&(a[b.id]=b.value)}),a},A=function(){var b=y();console.log("URL params",b);var c=a(z());console.log("Query string",c)},B=function(a,b){var c=new XMLHttpRequest;c.overrideMimeType("application/json"),c.open("GET",a,!0),c.onreadystatechange=function(){4==c.readyState&&"200"==c.status&&b(c.responseText)},c.send(null)},C=function(a,b){return'if (jsoneditor) jsoneditor.destroy();jsoneditor = new window.JSONEditor(document.querySelector("#json-editor-form"),{schema: '+a+", startval: "+b+"});"},D=function(){i.classList.toggle("show-modal")},E=function(a){a.target===i&&D()},F=function(){var a=x(this.getValue());a&&(j.innerText=a,D())},G=function(a,b){b&&(a='"use strict";'+a);try{new Function(a)()}catch(c){return j.innerText=c.message,D(),!1}return!0},H=function(){var a=this.options[this.selectedIndex].value;a&&B(a,function(a){c.setValue(a),c.session.getSelection().clearSelection()})},I=function(a){console.log('String option "'+this.id+'" changed to "'+this.value+'"')},J=function(a){"checkbox"==a.target.type&&console.log('Boolean option "'+a.target.value+'" changed to "'+a.target.checked.toString()+'"')},K=function(a,b){a.addEventListener("click",function(a,b){b.preventDefault(),this.setValue(a),this.session.getSelection().clearSelection()}.bind(b,b.getValue()))},L=function(a){a.preventDefault();var d=C(c.getValue(),"{}")+b.getValue();G(d)&&(document.querySelector("#tab1").checked=!0)};k.addEventListener("click",D),window.addEventListener("click",E),c=window.ace.edit(f),c.setOptions({theme:e}),c.session.setOptions({mode:"ace/mode/json",tabSize:2,useSoftTabs:!0}),d=window.ace.edit(g),d.setOptions({theme:e}),d.session.setOptions({mode:"ace/mode/json",tabSize:2,useSoftTabs:!0}),b=window.ace.edit(h),b.setOptions({theme:e}),b.session.setOptions({mode:"ace/mode/javascript",tabSize:2,wrap:!0,useSoftTabs:!0,useWrapMode:!0,indentedSoftWrap:!0}),c.on("blur",F.bind(c)),K(t,b),K(u,c),s.addEventListener("change",H),v.addEventListener("click",L),w.addEventListener("click",A),l.addEventListener("change",I),m.addEventListener("change",I),n.addEventListener("change",I),o.addEventListener("change",I),p.addEventListener("change",I),q.addEventListener("click",J),r.addEventListener("click",J);var M=C(c.getValue(),"{}");G(M)}();
//# sourceMappingURL=jsoneditor_demo.min.js.map